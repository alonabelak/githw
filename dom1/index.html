<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let playList = [
        {
            author: "LED ZEPPELIN",
            song:"STAIRWAY TO HEAVEN"
        },
        {
            author: "QUEEN",
            song:"BOHEMIAN RHAPSODY"
        },
        {
            author: "LYNYRD SKYNYRD",
            song:"FREE BIRD"
        },
        {
            author: "DEEP PURPLE",
            song:"SMOKE ON THE WATER"
        },
        {
            author: "JIMI HENDRIX",
            song:"ALL ALONG THE WATCHTOWER"
        },
        {
            author: "AC/DC",
            song:"BACK IN BLACK"
        },
        {
            author: "QUEEN",
            song:"WE WILL ROCK YOU"
        },
        {
            author: "METALLICA",
            song:"ENTER SANDMAN"
        }
        ];
        const div = document.createElement('div');
        div.setAttribute("class", "list");
        div.setAttribute("style", "padding-left: 20px");
        let ul = document.createElement('ul');
        div.prepend(ul);
        for (let i = 0; i < playList.length; i++){
            let li = document.createElement('li');
            li.prepend("author: " + playList[i].author + "; " + "song: " + playList[i].song);
            ul.prepend(li);
            li.setAttribute('style', 'font-family:Arial, Helvetica, sans-serif; font-size: 20px; list-style:none;');
        }
        document.body.prepend(div);
        let button = document.createElement('button');
        ul.append(button);
        button.innerHTML = 'Open modal';
        button.setAttribute('style', 'width:100px; height:50px; margin-top:20px; cursor:pointer; background-color: lightblue; border: none;');
        
        let modal_wrap = document.createElement('div');
        div.append(modal_wrap);
        let modal = document.createElement('div');
        div.append(modal);
        modal_wrap.setAttribute('style', 'position:fixed; left:0; top:0; width:100%; height:100%;background-color: rgba(0, 0, 0, .5);z-index: 999; display: none; justify-content: center; align-items: center;');
        modal.append(button);
        modal.append(modal_wrap);

        let modal_window = document.createElement("div");
        div.prepend(modal_window);
        modal_window.setAttribute('style', 'background-color:#fff; max-width: 500px;');
        modal_wrap.prepend(modal_window);

        let modal_text = document.createElement("div");
        div.prepend(modal_text);
        modal_text.setAttribute('style', 'font-weight:400; text-transform:uppercase;');
        modal_window.prepend(modal_text);

        let modal_main = document.createElement("div");
        div.prepend(modal_main);
        modal_main.setAttribute('style', 'padding: 10px;');
        modal_text.after(modal_main);

        let p = document.createElement("p");
        div.prepend(p);
        p.innerText = "Some text here";
        p.setAttribute('style', ' text-align:center; font-family:Arial, Helvetica, sans-serif; font-size: 20px;');
        modal_main.prepend(p);

        let modal_button = document.createElement("div");
        div.prepend(modal_button);
        modal_button.setAttribute('style', 'text-align: center; padding: 20px;')
        modal_main.after(modal_button)

        let button_inmodal = document.createElement("button");
        div.prepend(button_inmodal);
        button_inmodal.innerText = "Close modal"
        button_inmodal.setAttribute('style', 'margin:10px 20px; padding: 10px 50px; cursor:pointer; background-color: lightblue; border:none;');
        modal_button.prepend(button_inmodal);
    
        button.onclick = () => {
            modal_wrap.style.display = "flex";
        };
        button_inmodal.onclick = () => {
            modal_wrap.style.display = "none";
        };
        let light = document.createElement("div");
        div.append(light);
        light.setAttribute('style', 'width: 110px; height:330px; background-color: #ededed; border-radius: 40px');

        let wrap_cont = document.createElement("div");
        light.append(wrap_cont);

        let red = document.createElement("div");
        red.setAttribute('style', 'width:100px; height:100px; border-radius:50%; background:#000; margin-top:20px; margin-bottom:10px; margin-left: 5px;');
        light.append(red);

        let yellow = document.createElement("div");
        yellow.setAttribute('style', 'width:100px; height:100px; border-radius:50%; background: #000; margin-bottom:10px; margin-left: 5px;');
        light.append(yellow);

        let green = document.createElement("div");
        green.setAttribute('style', 'width:100px; height:100px; border-radius:50%; background: #000; margin-left: 5px;');
        light.append(green);

        let button_light = document.createElement("button");
        light.prepend(button_light);
        button_light.innerHTML = "Click on me";
        button_light.setAttribute('style', 'margin:20px 0; width:120px; height:50px; background-color: lightblue; border:none; cursor:pointer;');
        light.after(button_light);
        button_light.setAttribute("onclick", "trafficLight()");
        let time = 1;
        function trafficLight() {
            time++;
            if (time == 4) {
                time = 1;
                }
                changeLights();
            }
        let Colours = ["#000", "red", "yellow", "green" ];

        function changeLights() {
            if (time == 1) {
                red.style.background = Colours[1];
                yellow.style.background = Colours[0];
                green.style.background = Colours[0];
            }
            else if (time == 2) {
                red.style.background = Colours[0];
                yellow.style.background = Colours[0];
                green.style.background = Colours[2];
            }
            else if (time == 3) {
                red.style.background = Colours[0];
                yellow.style.background = Colours[3];
                green.style.background = Colours[0];
            }
        }
    </script>
</body>
</html>